<head>
    <meta name="referrer" content="no-referrer">
    <!-- don't send HTTP referer for privacy purpose and to use Google Maps Geocoding API without key -->
</head>
<div class="container mt-5">
    <div class="w3-content w3-section" style="height: 400px;">
        <center>
            <img class="mySlides img-responsive"
                src="https://c7.alamy.com/comp/PP98EJ/munich-germany-may-13-2017-munich-germany-fruits-shop-at-victuals-market-viktualienmarkt-PP98EJ.jpg"
                style="height: 400px;width: 100%;">
            <img class="mySlides img-responsive"
                src="https://c7.alamy.com/comp/G1946P/beautiful-women-shopping-vegetables-and-fruits-in-supermarket-G1946P.jpg"
                style="height: 400px;width: 100%;">
            <img class="mySlides img-responsive"
                src="https://c7.alamy.com/comp/EM3NN6/fruits-in-a-shop-EM3NN6.jpg"
                style="height: 400px;width: 100%;">
        </center>

    </div>
    <center>
        <div class="mt-2">
            <h2 align="center"
                style="font-size: 44px;font-style: normal;line-height: 56px;letter-spacing: 0.2px;font-family: Arial, Helvetica, sans-serif;">
                <b>Order from your nearest<br>Supermarket</b>
            </h2>
        </div>
        <div>
            <p style="color: grey;font-family: Arial, Helvetica, sans-serif;">
                <b>My Mart is a new startup established on January 2021 <br>We have partnered with more than thousands
                    of sellers from Kerala <br></b>
            </p>
        </div>
        <div class="col-lg-3 col-md-6 col-8 mb-4 mt-4">
            <script>
                // hack Google Maps to bypass API v3 key (needed since 22 June 2016 http://googlegeodevelopers.blogspot.com.es/2016/06/building-for-scale-updates-to-google.html)
                var target = document.head;
                var observer = new MutationObserver(function (mutations) {
                    for (var i = 0; mutations[i]; ++i) { // notify when script to hack is added in HTML head
                        if (mutations[i].addedNodes[0].nodeName == "SCRIPT" && mutations[i].addedNodes[0].src.match(/\/AuthenticationService.Authenticate?/g)) {
                            var str = mutations[i].addedNodes[0].src.match(/[?&]callback=.*[&$]/g);
                            if (str) {
                                if (str[0][str[0].length - 1] == '&') {
                                    str = str[0].substring(10, str[0].length - 1);
                                } else {
                                    str = str[0].substring(10);
                                }
                                var split = str.split(".");
                                var object = split[0];
                                var method = split[1];
                                window[object][method] = null; // remove censorship message function _xdc_._jmzdv6 (AJAX callback name "_jmzdv6" differs depending on URL)
                                //window[object] = {}; // when we removed the complete object _xdc_, Google Maps tiles did not load when we moved the map with the mouse (no problem with OpenStreetMap)
                            }
                            observer.disconnect();
                        }
                    }
                });
                var config = { attributes: true, childList: true, characterData: true }
                observer.observe(target, config);
            </script>
            <script
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAUvMW5rkpS3oRtFC6oHbiNzoqBtGuPJRw&callback=initMap&libraries=places"></script>
            <script type="text/javascript">

                google.maps.event.addDomListener(window, 'load', intilize);
                function intilize() {

                    var autocomplete = new google.maps.places.Autocomplete(document.getElementById('txtautocomplete'));
                    google.maps.event.addListener(autocomplete, 'place_changed', function () {
                        var places = autocomplete.getplace();
                        var location = "<b>Location:</b>" + places.formatted_address + "<br>";
                        location += "<b>Latitude:</b>" + places.geometry.location.A + "<br>";
                        location += "<b>Longitutde:</b>" + places.geometry.location.F + "<br>";
                    })
                    document.getElementById('lblresult').innerHTML = location
                }
            </script>
            <div class="input-icons" style="border: 2px solid black;">
                <i class="fa fa-map-marker-alt mt-2 ml-2" style="font-size:25px"></i>
                <input type="text" placeholder="Enter the address" class="input-field" name="" id="txtautocomplete">
                <label id="lblresult" hidden></label>
            </div>
        </div>
    </center>


</div>
<style>
    .w3-content {
        position: relative;
        margin-top: 0em;
    }

    .w3-btn,
    .w3-button {
        border: none;
        display: inline-block;
        outline: 0;
        padding: 8px 16px;
        vertical-align: middle;
        overflow: hidden;
        text-decoration: none;
        color: inherit;
        background-color: inherit;
        text-align: center;
        cursor: pointer;
        white-space: nowrap
    }

    .w3-btn,
    .w3-button {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none
    }

    .w3-disabled,
    .w3-btn:disabled,
    .w3-button:disabled {
        cursor: not-allowed;
        opacity: 0.3
    }

    .w3-disabled *,
    :disabled * {
        pointer-events: none
    }

    .w3-bar-block .w3-dropdown-hover .w3-button,
    .w3-bar-block .w3-dropdown-click .w3-button {
        width: 100%;
        text-align: left;
        padding: 8px 16px
    }

    .w3-button:hover {
        color: #000 !important;
        background-color: #ccc !important
    }

    .w3-content button {
        position: absolute;
        top: 32%;
    }

    .w3-display-right {
        right: 0
    }

    .w3-display-left {
        left: 0
    }
</style>
<script>
    var myIndex = 0;
    carousel();

    function carousel() {
        var i;
        var x = document.getElementsByClassName("mySlides");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        myIndex++;
        if (myIndex > x.length) { myIndex = 1 }
        x[myIndex - 1].style.display = "block";
        setTimeout(carousel, 2000); // Change image every 2 seconds
    }
</script>
<section>
    {{#if vendors}}
    <center>
        <h3>Select your preferred Store</h3>
    </center>
    <div class="container">
        <div class="row">
            {{#each vendors}}
            <div class="col-lg-3 col-md-4 col-6">
                <a href="/view/{{this._id}}/a" style="text-decoration: none;">
                    <div class="card" style="height: 19rem;border: hidden">
                        <img class="card-img-top" style="height: 50%;" src="/vendor-images/{{this._id}}.jpg"
                            alt="Card image cap">
                        <div class="card-body">
                            <p class="card-title" style="font-size: 14px;"><b>{{this.storename}}</b></p>
                            <p class="card-text">{{this.address}}</p>
                            <p class="card-text" hidden id="status{{this._id}}">{{this.status}}</p>
                            <p class="card-text text-primary" id="current{{this._id}}"></p>
                        </div>
                        <script>
                            status = document.getElementById('status{{ this._id }}').innerText;
                            if (status = true) {
                                document.getElementById('current{{this._id}}').innerText = 'Opened now'
                            }
                            else {
                                document.getElementById('current{{this._id}}').innerText = 'Closed now'
                            }
                        </script>

                        <hr style="border: 1px solid;">
                    </div>
                </a>
            </div>
            {{/each}}
        </div>
    </div>
    {{else}}
    <center>
        <h3>Sorry!.. No Stores available now</h3>
    </center>
    {{/if}}


</section>

<link rel="stylesheet" href="/css/user/user.css" type="text/css">